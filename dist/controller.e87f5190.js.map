{"version":3,"sources":["src/js/config.js","src/js/helper.js","src/js/model.js","src/js/views/view.js","src/js/views/movieView.js","src/js/views/paginationView.js","src/js/views/navView.js","src/js/views/searchView.js","src/js/views/downloadView.js","src/js/controller.js","../../../com.termux/files/usr/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["API_URL","RES_PER_PAGE","SECONDS","RESET_PAGE","isDownloadMovie","download","timeout","sec","Promise","_","reject","setTimeout","Error","catch","err","getJSON","url","race","fetch","method","res","ok","json","data","updateURL","page","start","end","newURL","URL","location","href","window","history","pushState","PAGINATION","pagination","resPerPage","movies","filteredMovies","search","category","movieCategories","filter","getJsonData","reverse","map","m","loadFilterMovies","getURLPage","includes","getPerPageMovie","moviesArr","userPage","urlStart","slice","getFilterMovies","movie","changeTitle","id","title","movieTitle","searchParams","get","toUpperCase","document","getURL","Number","Math","ceil","HistoryBackForward","handler","addEventListener","e","preventDefault","state","isCategory","every","console","log","copyRightYear","yearElem","querySelector","year","Date","getFullYear","textContent","View","_data","markup","_generateMarkup","_clear","_parentElem","insertAdjacentHTML","innerHTML","name","toLowerCase","matchMedia","imgs","m_img","d_img","html","resolve","ms","message","MovieView","_responsiveImg","_createSlug","join","replaceAll","Pagination","btn","target","closest","btnDataset","dataset","goto","currPage","moviesLength","length","numPages","_generatePrevBtnMarkup","_generateNextBtnMarkup","Nav","querySelectorAll","dropdown","_category","_navLinks","forEach","link","classList","remove","add","_changeLocationHref","updateUrlHelper","isDropdownBtn","matches","dropdownContent","toggle","Search","_searchInput","inputValue","value","_resultCont","isIncludes","element","_isFocused","getSearchMovies","findSearchMovie","card","_template","content","cloneNode","children","body","removeAttribute","downPath","cardImg","movieName","loading","src","appendChild","Download","_getMovieName","imbd","director","_addWhiteSpace","cast","description","arr","toString","App","bind","paginationView","addHandlerClick","delay","renderData","movieView","errorMessage","navView","filterMoviesHandler","resetPage","loader","downloadPage","addDropdownToggleHandler","addDropdownLinksHandler","controlNavigation","slicedArr","searchView","addSearchHandler","enableSearchField","downloadView","app","init","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","getElementById","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"controller.e87f5190.js","sourceRoot":"..","sourcesContent":["'use strict'\nexport const API_URL = 'https://api.npoint.io/39747bbbd8c4e3aef9ff';\n//20 original value\nexport const RES_PER_PAGE = 5;\nexport const SECONDS = 4;\nexport const RESET_PAGE = 1;\nexport const isDownloadMovie = {\n  download: false\n};","'use strict'\nimport { SECONDS } from './config.js'\n\nconst timeout = function(sec) {\n  return new Promise(function(_, reject) {\n    setTimeout(() => {\n      reject(new Error(`Request took too long, Timeout after ${sec} seconds. please retry`))\n    }, sec * 1000);\n  })\n  .catch(err => {\n    throw Error(err);\n  });\n}\n\nexport const getJSON = async function(url) {\n  try {\n    const res = await Promise.race([fetch(url, {\n      method: 'GET',\n      'Content-Type': 'application/json',\n      'X-Custom-Header': 'ProcessThisImmediately',\n    }), timeout(SECONDS)]);\n    if (!res || !res.ok) throw new Error('could\\'t fetch movies');\n    \n    const data = await res.json();\n    \n    return data\n  } catch (err) {\n    throw err\n  }\n}\n\nexport const updateURL = function(page = 'home', start, end) {\n  const url = `?page=${page}&start=${start}&end=${end}`;\n  const newURL = new URL(url, location.href);\n  window.history.pushState({ start }, '', newURL);\n}\n\nexport const PAGINATION = function(page, data) {\n  const start = (page - 1) * data.pagination.resPerPage;\n  const end = page * data.pagination.resPerPage;\n  return { start, end }\n}","'use strict'\nimport { API_URL, RES_PER_PAGE } from './config.js';\nimport { getJSON, updateURL, PAGINATION } from './helper.js'\n\nexport const data = {\n  movies: [],\n  filteredMovies: [],\n  search: {\n    movies: [],\n  },\n  category: '',\n  movieCategories: ['action', 'adventure'],\n  filter: false,\n  pagination: {\n    resPerPage: RES_PER_PAGE,\n    page: 1,\n  },\n}\n\nexport const getJsonData = async function() {\n  try {\n    data.movies = await getJSON(API_URL);\n    data.movies = data.movies.reverse();\n    data.search.movies = data.movies.map(m => m);\n  } catch (err) {\n    throw err\n  }\n}\n\n//load filter movies on window load\nexport const loadFilterMovies = function() {\n  const { page } = getURLPage();\n  if (data.movieCategories.includes(page)) {\n    data.filteredMovies = data.movies.filter(m => m.category.includes(page));\n    //reverse the array to how it was\n    data.filteredMovies = data.filteredMovies.reverse();\n    data.filter = true;\n    data.category = page;\n  }\n}\n\nexport const getPerPageMovie = function(page = 1, moviesArr = data.movies) {\n  const { url, page: userPage, urlStart } = getURLPage();\n  const { start, end } = PAGINATION(page, data);\n\n  if (userPage != null && data.movieCategories.includes(userPage)) {\n    moviesArr = data.filteredMovies;\n    return moviesArr.slice(start, end);\n  }\n\n  if (!userPage || userPage === 'home') {\n    //set filter to true\n    data.filter = false;\n    return moviesArr.slice(start, end);\n  }\n}\n\nexport const getFilterMovies = async function(category) {\n  //set filter to true\n  data.filter = true;\n  //set category to hash value\n  data.category = category;\n\n  const movies = await getJSON(API_URL);\n  data.filteredMovies = movies.filter(movie => movie.category.includes(category));\n  return data.filteredMovies;\n}\n\nexport const changeTitle = function(id) {\n  let title;\n\n  if (id === 'home') title = 'Home || Door2Movies';\n  if (id === 'download-page') {\n    const url = new URL(location.href);\n    const movieTitle = url.searchParams.get('name');\n    title = `Download ${movieTitle.toUpperCase()} || Door2Movies`;\n  }\n  document.title = title\n}\n\nexport const getURL = async function() {\n  const { url, page, urlStart } = getURLPage();\n\n  if (!url || !page) return\n\n  if (url && Number(urlStart) > 0) {\n    data.pagination.page = Math.ceil((urlStart / data.pagination.resPerPage) + 1);\n  }\n}\n\nexport const getURLPage = function() {\n  const url = new URL(location.href);\n  const page = url.searchParams.get('page');\n  const urlStart = url.searchParams.get('start');\n  return { url, page, urlStart }\n}\n\nexport const HistoryBackForward = function(handler) {\n  window.addEventListener('popstate', async e => {\n    try {\n      const { page } = getURLPage();\n\n      e.preventDefault();\n\n      if (!e.state || !location.href.includes('page')) {\n        data.pagination.page = 1;\n        data.filter = false;\n\n        await handler()\n        return\n      }\n\n      if (e.state != null && page === 'home') {\n        data.pagination.page = Math.ceil((e.state.start / data.pagination.resPerPage) + 1);\n        data.filter = false;\n        await handler()\n        return\n      }\n\n      if (e.state != null) {\n        data.pagination.page = Math.ceil((e.state.start / data.pagination.resPerPage) + 1);\n\n        const isCategory = data.filteredMovies.every(m => m.category.includes(page));\n\n        if (!isCategory) getFilterMovies(page);\n\n        await handler()\n        return\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  })\n}\n\nexport const copyRightYear = function() {\n  const yearElem = document.querySelector('[data-copyright-year]');\n  const year = new Date().getFullYear();\n  yearElem.textContent += year;\n}","export default class View {\n  _data\n\n  renderData(data) {\n    this._data = data;\n\n    const markup = this._generateMarkup();\n    \n    //remove any pre-added markup\n    this._clear();\n\n    this._parentElem.insertAdjacentHTML('beforeend', markup);\n  }\n\n  _clear() {\n    this._parentElem.innerHTML = ''\n  }\n\n  _createSlug(name) {\n    return name.toLowerCase();\n  }\n\n  _responsiveImg(movie) {\n    if (window.matchMedia('(min-width: 37.2em)')) return movie.imgs.m_img\n\n    if (window.matchMedia('(min-width: 64em)')) return movie.imgs.d_img\n  }\n\n  loader() {\n    const html = `\n      <div class=\"loader\">\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g>\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            <path d=\"M18.364 5.636L16.95 7.05A7 7 0 1 0 19 12h2a9 9 0 1 1-2.636-6.364z\"/>\n          </g>\n        </svg>\n      </div>`\n\n    this._clear();\n    this._parentElem.insertAdjacentHTML('beforeend', html);\n\n    return Promise.resolve()\n  }\n\n  delay(ms) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve();\n      }, ms)\n    })\n  }\n\n  errorMessage(message = 'check your internet connection') {\n    const html = `\n      <div class=\"error-message\">\n        <p class=\"message\">\n          ${message}\n        </p>\n      </div>`\n\n    this._clear();\n    this._parentElem.insertAdjacentHTML('beforeend', html);\n  }\n}","import View from './view.js'\nclass MovieView extends View {\n  _parentElem = document.querySelector('.movies-container');\n\n  _generateMarkup() {\n    return this._data.map(movie => `\n      <div class=\"movie-card\">\n        <div class=\"movie-img\">\n         <img src=\"${this._responsiveImg(movie)}\" alt=\"${movie.name}\" />\n        </div>\n        <div class=\"movie-name-cont movie-link\">\n        \t<a class=\"movie-name\" href=\"src/pages/download.html?name=${this._createSlug(movie.name)}&id=${movie.id}\">\n        \t  ${movie.name}\n        \t</a>\n        </div>\n      </div>`)\n      .join(',')\n      .replaceAll(',', '');\n  }\n\n  _createSlug(name) {\n    return name.toLowerCase();\n  }\n}\n\nexport default new MovieView();","import View from './view.js';\nimport movieView from './movieView.js';\nimport { updateURL, PAGINATION } from '../helper.js';\n// import icons from '../../icons/icons.svg'\n\nclass Pagination extends View {\n  _parentElem = document.querySelector('[data-pagination-btns-container]');\n\n  addHandlerClick(handler) {\n    this._parentElem.addEventListener('click', e => {\n\n      const btn = e.target.closest('[data-goto]');\n      if (!btn) return\n\n      const btnDataset = btn.dataset.goto;\n      btnDataset === 'next' ? this._data.pagination.page++ : this._data.pagination.page--;\n\n      const { start, end } = PAGINATION(this._data.pagination.page, this._data);\n\n      //change the page value\n      const page = this._data.filter ? this._data.category : 'home';\n      updateURL(`${page}`, start, end);\n      handler();\n    })\n  }\n\n  _generateMarkup() {\n    const currPage = +this._data.pagination.page;\n    const moviesLength = this._data.filter ? this._data.filteredMovies.length : this._data.movies.length;\n    const numPages = Math.ceil(moviesLength / this._data.pagination.resPerPage);\n    //if user are not on first page but currpage is less than total num of pages i.e currpage = 3 && numpages = 5\n    if (currPage > 0 && currPage < numPages) return `${this._generatePrevBtnMarkup(currPage)} ${this._generateNextBtnMarkup(currPage)}`;\n\n    //if currpage and num of pages is equal render only prev button\n    if (currPage === numPages) return this._generatePrevBtnMarkup(currPage);\n  }\n\n  _generateNextBtnMarkup(page) {\n    return `\n      <button class=\"pagination__btn--next btn__inline\" data-goto=\"next\">\n        Page ${page + 1}\n       <svg class='sm-icon'>\n          <use href=\"./src/icons/icons.svg#icon-chevron-right\"></use>\n        </svg>\n      </button>`\n  }\n\n  _generatePrevBtnMarkup(page) {\n    return `\n      <button class=\"${page > 1 ? 'pagination__btn--prev' : 'hide'} btn__prev\" data-goto=\"prev\">\n        <svg class='sm-icon'>\n          <use href=\"./src/icons/icons.svg#icon-chevron-left\"></use>\n        </svg>\n        Page ${page - 1}\n      </button>`\n  }\n}\n\nexport default new Pagination();","import View from './view.js';\nimport { RESET_PAGE, isDownloadMovie } from '../config.js';\nimport { updateURL as updateUrlHelper, PAGINATION } from '../helper.js';\n\nclass Nav extends View {\n  _category;\n  _navLinks = document.querySelectorAll('[data-category]');\n\n  #toggleDropDown(e) {\n    const isDropdownBtn = e.target.matches('[data-dropdownBtn]');\n    const dropdownContent = document.querySelector('[data-dropdown-content]');\n\n    if (!isDropdownBtn && e.target.closest('[data-dropdown]') != null) dropdownContent.classList.remove('active');\n\n    if (isDropdownBtn) dropdownContent.classList.toggle('active');\n    else dropdownContent.classList.remove('active');\n  }\n\n  addDropdownLinksHandler(handler, download = false) {\n    const dropdown = document.querySelector('[data-dropdown-content]');\n\n    dropdown.addEventListener('click', e => {\n      if (!e.target.dataset.category) return\n      if (e.target.dataset.category && e.target.closest('[data-dropdown-content]')) {\n        this._category = e.target.dataset.category;\n        e.preventDefault();\n        \n        this._navLinks.forEach(link => link.classList.remove('active'));\n        \n        e.target.classList.add('active');\n        \n        //change the href value of anchor tag if user is on download page\n        if (download) this._changeLocationHref();\n        handler();\n      }\n    })\n  }\n\n  addDropdownToggleHandler() {\n    window.addEventListener('click', this.#toggleDropDown);\n  }\n  \n  filterMoviesHandler(data, handler) {\n    this._data = data;\n    return handler(this._category);\n  }\n\n  resetPage() {\n    this._data.pagination.page = RESET_PAGE;\n  }\n\n  updateURL() {\n    const { start, end } = PAGINATION(this._data.pagination.page, this._data);\n\n    //if user is on download page do not update the url\n    if (!isDownloadMovie.download) updateUrlHelper(this._category, start, end);\n\n    //set isDownloadMovie.download to false so when user leave page using navigation history won't update\n    isDownloadMovie.download = false;\n  }\n\n  _changeLocationHref() {\n    location.href = `../../index.html?page=${this._category}&start=${0}&end=${1}`;\n  }\n}\n\nexport default new Nav();","import View from './view.js';\nimport { getJSON } from '../helper.js';\nimport { API_URL } from '../config.js';\n\nclass Search extends View {\n  _parentElem = document.querySelector('[data-search-cont]');\n  _template = document.querySelector('[data-search-movie-template]');\n  _resultCont = document.querySelector('[data-search-results]');\n  _isFocused = false;\n  _searchInput = document.querySelector('[data-search-bar]');\n\n  findSearchMovie() {\n    this._searchInput.addEventListener('input', (e) => {\n      const inputValue = e.target.value.toLowerCase();\n\n      if (e.target.value !== '') this._resultCont.classList.add('open');\n      else this._resultCont.classList.remove('open');\n\n      this._data.search.movies.forEach(movie => {\n        const isIncludes = movie.name.toLowerCase().includes(inputValue);\n        movie.element.classList.toggle('hide', !isIncludes);\n      })\n    })\n  }\n  \n  addSearchHandler(data) {\n    this._searchInput.addEventListener('focus', (e) => {\n      if (e.target.value === '' && !this._isFocused) {\n        this._data = data\n        this.getSearchMovies();\n        this.findSearchMovie();\n        return\n      }\n    })\n  }\n\n  async getSearchMovies() {\n    this._data.search.movies = this._data.search.movies.map(movie => {\n      const card = this._template.content.cloneNode(true).children[0];\n      const id = document.body.id;\n\n      if (id === 'home') this.#fillSearch(card, movie.name, movie.imgs, movie.id, 'src/pages/');\n\n      //change the download page path if user is already on download page\n      if (id === 'download-page') this.#fillSearch(card, movie.name, movie.imgs, movie.id, './');\n\n      return {\n        name: movie.name,\n        element: card\n      }\n    })\n  }\n\n  #fillSearch(card, name, imgs, id, downPath) {\n    const cardImg = card.querySelector('[data-search-img]');\n    //anchor Elem\n    const movieName = card.querySelector('[data-search-name]');\n    const movie = { imgs };\n\n    cardImg.loading = 'lazy';\n    cardImg.src = this._responsiveImg(movie);\n    movieName.textContent = name;\n\n    //create Slug\n    movieName.href = `${downPath}download.html?name=${this._createSlug(name)}&id=${id}`;\n\n    card.classList.add('hide');\n    this._resultCont.appendChild(card);\n  }\n\n  enableSearchField(data) {\n    if (data.length !== 0) {\n    this._searchInput.removeAttribute(\"disabled\");\n    }\n  }\n}\n\nexport default new Search();","import View from './view.js';\nimport { getJSON } from '../helper.js';\nimport { API_URL, isDownloadMovie } from '../config.js';\n\nclass Download extends View {\n  _parentElem = document.querySelector('[data-download]');\n\n  _generateMarkup() {\n    const movieName = this._getMovieName();\n    const data = this._data.movies.filter(movie => movie.name.toLowerCase() === movieName);\n\n    isDownloadMovie.download = true;\n\n    return `\n    <p> Home > ${data[0].name}</p>\n    <h2 data-download-movie-name>${data[0].name}</h2>\n      <div class=\"section__download__img-grid\">\n        <figure>\n          <img src=\"${this._responsiveImg(data[0])}\" alt=\"${data[0].name}\" />\n        </figure>\n      </div>\n      <div class=\"section__download__movie-info\">\n        <p class=\"rating\">IMBD rating: ${data[0].imbd}</p>\n        <p class=\"year\">Year: ${data[0].year}</p>\n        <p class=\"director\">Director: <span>${data[0].director}</span></p>\n        <p class=\"cast\">Cast: <span>${this._addWhiteSpace(data[0].cast)}</span></p>\n        <p> category : ${this._addWhiteSpace(data[0].category)} </p>\n        <p class=\"desc\">Description: <span>${data[0].description}  luptatum praesent nascetur tempus scripta ferri idque sonet omittam vitae tellus diam persius conceptam hac sed etiam semper habitasse interpretaris</span></p>\n      </div>\n      <p class=\"links-heading\">Download Links </p>\n      <section class=\"section__download__links\">\n        <a href=\"${data[0].link[1]}\">480p</a>\n        <a href=\"${data[0].link[2]}\">720p</a>\n        <a href=\"${data[0].link[3]}\">1080p</a>\n      </section>`\n  }\n\n  _getMovieName() {\n    return new URL(window.location.href).searchParams.get('name');\n  }\n\n  //takes an array add white space after the comma\n  _addWhiteSpace(arr) {\n    return arr.toString().replaceAll(',', ', ')\n  }\n}\n\nexport default new Download();","import { getJsonData, getURL, loadFilterMovies, HistoryBackForward, copyRightYear, changeTitle, data, getPerPageMovie } from './model.js';\nimport movieView from './views/movieView.js'\nimport paginationView from './views/paginationView.js'\nimport navView from './views/navView.js';\nimport searchView from './views/searchView.js';\nimport downloadView from './views/downloadView.js';\nimport { updateURL } from './helper.js';\n\nclass App {\n\n  async init() {\n\n    try {\n      const id = document.body.id;\n      await getJsonData();\n      getURL();\n      loadFilterMovies();\n      HistoryBackForward(this.#renderMoviesPagination.bind(this));\n      copyRightYear();\n\n      switch (id) {\n        case 'home':\n          //change page title\n          changeTitle(id);\n          //home\n\n          await this.#controllerHome();\n\n          //common \n          this.#COMMON();\n\n          await paginationView.addHandlerClick(this.#controllerPagination);\n\n          //added delay for first time loading pagination\n          await paginationView.delay(1000);\n          paginationView.renderData(data);\n          break;\n        case 'download-page':\n          //change page title\n          changeTitle(id);\n\n          //common things\n          this.#COMMON(true);\n\n          this.#controllerDownload();\n          break;\n        default:\n          return\n      }\n    }\n    catch (err) {\n      movieView.errorMessage(err);\n    }\n  }\n\n  #COMMON(downloadPage = false) {\n    //search\n    this.#searchController();\n    //navbar\n    navView.addDropdownToggleHandler();\n    navView.addDropdownLinksHandler(this.controlNavigation, downloadPage);\n  }\n\n  async #controllerHome() {\n    try {\n      //loader \n      await movieView.loader();\n\n      //delay\n      await movieView.delay(1000);\n\n      //Render Movies\n      movieView.renderData(getPerPageMovie(data.pagination.page));\n\n    } catch (err) {\n      console.log(err);\n      movieView.errorMessage('Something went wrong :(');\n    }\n  }\n\n  async #controllerPagination() {\n    try {\n      const { page } = data.pagination;\n\n      //render Button\n      paginationView.renderData(data);\n\n      //get returned value from model fn\n      const slicedArr = getPerPageMovie(page);\n\n      //loader \n      await movieView.loader();\n\n      //delay\n      await movieView.delay(1000);\n\n      //render Movies\n      movieView.renderData(slicedArr);\n\n    } catch (err) {\n      movieView.errorMessage();\n    }\n  }\n\n  async controlNavigation() {\n    try {\n      //need to remove model\n      const filteredMovies = navView.filterMoviesHandler(data, getFilterMovies);\n      navView.resetPage();\n      navView.updateURL();\n\n      //loader\n      await movieView.loader();\n\n      //delay\n      await movieView.delay(1000);\n\n      movieView.renderData(getPerPageMovie(data.pagination.page, filteredMovies));\n\n      //re-render the pagination button\n      paginationView.renderData(data);\n    } catch (err) {\n      movieView.errorMessage(\"Movie doesn\\'t exist\");\n    }\n  }\n\n  #searchController() {\n    searchView.addSearchHandler(data);\n    searchView.enableSearchField(data.movies);\n  }\n\n  //download page\n  async #controllerDownload() {\n    //loader\n    await downloadView.loader();\n\n    //delay\n    await downloadView.delay(1000);\n\n    //render movie\n    downloadView.renderData(data);\n  }\n\n  async #renderMoviesPagination() {\n    await this.#controllerHome();\n    paginationView.renderData(data);\n  }\n}\n\nconst app = new App();\n\napp.init();","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}